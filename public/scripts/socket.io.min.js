var io="undefined"===typeof module?{}:module.exports;
(function(){var u=this,l="object"===typeof module?module.exports:this.io={};l.version="0.9.10";l.protocol=1;l.transports=[];l.j=[];l.sockets={};l.connect=function(a,c){var d=l.util.parseUri(a),i,b;u&&u.location&&(d.protocol=d.protocol||u.location.protocol.slice(0,-1),d.host=d.host||(u.document?u.document.domain:u.location.hostname),d.port=d.port||u.location.port);i=l.util.uniqueUri(d);var f={host:d.host,secure:"https"==d.protocol,port:d.port||("https"==d.protocol?443:80),query:d.query||""};l.util.merge(f,
c);if(f["force new connection"]||!l.sockets[i])b=new l.Socket(f);!f["force new connection"]&&b&&(l.sockets[i]=b);b=b||l.sockets[i];return b.of(1<d.path.length?d.path:"")};var E=this,e=("undefined"!=typeof io?io:module.exports).util={},Q=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,R="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){for(var a=Q.exec(a||""),c={},d=14;d--;)c[R[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,d=a.host,a=a.port;"document"in E?(d=d||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(d=d||"localhost",!a&&"https"==c&&(a=443));return(c||"http")+"://"+d+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),i=[];e.merge(d,e.chunkQuery(c||""));for(var b in d)d.hasOwnProperty(b)&&i.push(b+"="+d[b]);return i.length?
"?"+i.join("&"):""};e.chunkQuery=function(a){for(var c={},a=a.split("&"),d=0,i=a.length,b;d<i;++d)b=a[d].split("="),b[0]&&(c[b[0]]=b[1]);return c};var K=!1;e.load=function(a){if("document"in E&&"complete"===document.readyState||K)return a();e.on(E,"load",a,!1)};e.on=function(a,c,d,i){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,i)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!a||
e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){K=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,i){var i=i||[],d="undefined"==typeof d?2:d,b;for(b in c)c.hasOwnProperty(b)&&0>e.indexOf(i,b)&&("object"!==typeof a[b]||!d?(a[b]=c[b],i.push(c[b])):e.merge(a[b],
c[b],d-1,i));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],b=a.length>c.length?a:c,m=a.length>c.length?c:a,f=0,g=m.length;f<g;f++)~e.indexOf(b,m[f])&&d.push(m[f]);return d};e.indexOf=function(a,c,d){for(var b=a.length,d=0>d?0>d+b?0:d+b:d||0;d<b&&a[d]!==c;d++);return b<=
d?-1:d};e.toArray=function(a){for(var c=[],d=0,b=a.length;d<b;d++)c.push(a[d]);return c};e.ua={};var b=e.ua,z;if(z="undefined"!=typeof XMLHttpRequest)a:{try{var S=new XMLHttpRequest}catch(W){z=!1;break a}z=void 0!=S.withCredentials}b.hasCORS=z;e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent);var A="undefined"!=typeof io?io:module.parent.exports,b=function(){};("undefined"!=typeof io?
io:module.exports).EventEmitter=b;b.prototype.on=function(a,c){this.$events||(this.$events={});this.$events[a]?A.util.isArray(this.$events[a])?this.$events[a].push(c):this.$events[a]=[this.$events[a],c]:this.$events[a]=c;return this};b.prototype.addListener=b.prototype.on;b.prototype.once=function(a,c){function d(){b.removeListener(a,d);c.apply(this,arguments)}var b=this;d.listener=c;this.on(a,d);return this};b.prototype.removeListener=function(a,c){if(this.$events&&this.$events[a]){var d=this.$events[a];
if(A.util.isArray(d)){for(var b=-1,m=0,f=d.length;m<f;m++)if(d[m]===c||d[m].listener&&d[m].listener===c){b=m;break}if(0>b)return this;d.splice(b,1);d.length||delete this.$events[a]}else(d===c||d.listener&&d.listener===c)&&delete this.$events[a]}return this};b.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};b.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||(this.$events[a]=
[]);A.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]);return this.$events[a]};b.prototype.emit=function(a){if(!this.$events)return!1;var c=this.$events[a];if(!c)return!1;var d=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,d);else if(A.util.isArray(c))for(var c=c.slice(),b=0,m=c.length;b<m;b++)c[b].apply(this,d);else return!1;return!0};(function(a,c){function d(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var c=
l[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function m(a,c){var f,e,g,l,B=k,o,n=c[a];n instanceof Date&&(n=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+"Z":null);"function"===typeof j&&(n=j.call(c,a,n));switch(typeof n){case "string":return b(n);case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);
case "object":if(!n)return"null";k+=h;o=[];if("[object Array]"===Object.prototype.toString.apply(n)){l=n.length;for(f=0;f<l;f+=1)o[f]=m(f,n)||"null";g=0===o.length?"[]":k?"[\n"+k+o.join(",\n"+k)+"\n"+B+"]":"["+o.join(",")+"]";k=B;return g}if(j&&"object"===typeof j){l=j.length;for(f=0;f<l;f+=1)"string"===typeof j[f]&&(e=j[f],(g=m(e,n))&&o.push(b(e)+(k?": ":":")+g))}else for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(g=m(e,n))&&o.push(b(e)+(k?": ":":")+g);g=0===o.length?"{}":k?"{\n"+k+o.join(",\n"+
k)+"\n"+B+"}":"{"+o.join(",")+"}";k=B;return g}}if(c&&c.parse)return a.JSON={parse:c.parse,stringify:c.stringify};var f=a.JSON={},g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,h,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;f.stringify=function(a,c,d){var b;h=k="";if("number"===
typeof d)for(b=0;b<d;b+=1)h+=" ";else"string"===typeof d&&(h=d);if((j=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return m("",{"":a})};f.parse=function(a,c){function d(a,b){var i,f,e=a[b];if(e&&"object"===typeof e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(f=d(e,i),void 0!==f?e[i]=f:delete e[i]);return c.call(a,b,e)}var b,a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));
if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return b=eval("("+a+")"),"function"===typeof c?d({"":b},""):b;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);var b="undefined"!=typeof io?io:module.parent.exports,q=("undefined"!=typeof io?io:module.exports).parser={},L=q.packets="disconnect connect heartbeat message json event ack error noop".split(" "),
M=q.reasons=["transport not supported","client not handshaken","unauthorized"],N=q.advice=["reconnect"],v=b.JSON,F=b.util.indexOf;q.encodePacket=function(a){var c=F(L,a.type),d=a.id||"",b=a.endpoint||"",e=a.ack,f=null;switch(a.type){case "error":var g=a.reason?F(M,a.reason):"",a=a.advice?F(N,a.advice):"";if(""!==g||""!==a)f=g+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(f=a.data);break;case "event":f={name:a.name};a.args&&a.args.length&&(f.args=a.args);f=v.stringify(f);break;case "json":f=
v.stringify(a.data);break;case "connect":a.qs&&(f=a.qs);break;case "ack":f=a.ackId+(a.args&&a.args.length?"+"+v.stringify(a.args):"")}c=[c,d+("data"==e?"+":""),b];null!==f&&void 0!==f&&c.push(f);return c.join(":")};q.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,b=a.length;d<b;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var T=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;q.decodePacket=function(a){var c=a.match(T);if(!c)return{};var d=c[2]||"",a=c[5]||"",b={type:L[c[1]],
endpoint:c[4]||""};d&&(b.id=d,b.ack=c[3]?"data":!0);switch(b.type){case "error":c=a.split("+");b.reason=M[c[0]]||"";b.advice=N[c[1]]||"";break;case "message":b.data=a||"";break;case "event":try{var e=v.parse(a);b.name=e.name;b.args=e.args}catch(f){}b.args=b.args||[];break;case "json":try{b.data=v.parse(a)}catch(g){}break;case "connect":b.qs=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(b.ackId=c[1],b.args=[],c[3])try{b.args=c[3]?v.parse(c[3]):[]}catch(h){}}return b};q.decodePayload=
function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,b="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(q.decodePacket(a.substr(d+1).substr(0,b))),d+=Number(b)+1,b=""):b+=a.charAt(d);return c}return[q.decodePacket(a)]};var x="undefined"!=typeof io?io:module.parent.exports,b=function(a,c){this.socket=a;this.sessid=c};("undefined"!=typeof io?io:module.exports).Transport=b;x.util.mixin(b,x.EventEmitter);b.prototype.heartbeats=function(){return!0};b.prototype.onData=function(a){this.clearCloseTimeout();
(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=x.parser.decodePayload(a))&&a.length)for(var c=0,d=a.length;c<d;c++)this.onPacket(a[c]);return this};b.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=!1);this.socket.onPacket(a);return this};b.prototype.setCloseTimeout=
function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};b.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};b.prototype.onConnect=function(){this.socket.onConnect();return this};b.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)};b.prototype.clearTimeouts=function(){this.clearCloseTimeout();
this.reopenTimeout&&clearTimeout(this.reopenTimeout)};b.prototype.packet=function(a){this.send(x.parser.encodePacket(a))};b.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};b.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};b.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};b.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+x.protocol+
"/"+this.name+"/"+this.sessid};b.prototype.ready=function(a,c){c.call(this)};var h="undefined"!=typeof io?io:module.parent.exports,y=this,b=function(a){this.options={port:80,secure:!1,document:"document"in y?document:!1,resource:"socket.io",transports:h.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,
manualFlush:!1};h.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||h.util.ua.hasCORS)){var c=this;h.util.on(y,"beforeunload",function(){c.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()},U=function(){};("undefined"!=typeof io?io:module.exports).Socket=b;h.util.mixin(b,h.EventEmitter);b.prototype.of=function(a){this.namespaces[a]||
(this.namespaces[a]=new h.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};b.prototype.publish=function(){this.emit.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.of(c),a.$emit.apply(a,arguments))};b.prototype.handshake=function(a){function c(c){c instanceof Error?(d.connecting=!1,d.onError(c.message)):a.apply(null,c.split(":"))}var d=this,b=this.options,b=["http"+(b.secure?"s":"")+":/",b.host+
":"+b.port,b.resource,h.protocol,h.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!h.util.ua.hasCORS){var e=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src=b+"&jsonp="+h.j.length;e.parentNode.insertBefore(f,e);h.j.push(function(a){c(a);f.parentNode.removeChild(f)})}else{var g=h.util.request();g.open("GET",b,!0);this.isXDomain()&&(g.withCredentials=!0);g.onreadystatechange=function(){if(g.readyState==4){g.onreadystatechange=U;if(g.status==
200)c(g.responseText);else if(g.status==403)d.onError(g.responseText);else{d.connecting=false;!d.reconnecting&&d.onError(g.responseText)}}};g.send(null)}};b.prototype.getTransport=function(a){for(var a=a||this.transports,c=0,d;d=a[c];c++)if(h.Transport[d]&&h.Transport[d].check(this)&&(!this.isXDomain()||h.Transport[d].xdomainCheck(this)))return new h.Transport[d](this,this.sessionid);return null};b.prototype.connect=function(a){if(this.connecting)return this;var c=this;c.connecting=!0;this.handshake(function(d,
b,e,f){function g(a){c.transport&&c.transport.clearTimeouts();c.transport=c.getTransport(a);if(!c.transport)return c.publish("connect_failed");c.transport.ready(c,function(){c.connecting=!0;c.publish("connecting",c.transport.name);c.transport.open();c.options["connect timeout"]&&(c.connectTimeoutTimer=setTimeout(function(){if(!c.connected&&(c.connecting=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.transport.name;);a.length?g(a):c.publish("connect_failed")}},
c.options["connect timeout"]))})}c.sessionid=d;c.closeTimeout=1E3*e;c.heartbeatTimeout=1E3*b;c.transports||(c.transports=c.origTransports=f?h.util.intersect(f.split(","),c.options.transports):c.options.transports);c.setHeartbeatTimeout();g(c.transports);c.once("connect",function(){clearTimeout(c.connectTimeoutTimer);a&&typeof a=="function"&&a()})});return this};b.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};b.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};b.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||this.flushBuffer())};b.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};b.prototype.disconnect=function(){if(this.connected||
this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};b.prototype.disconnectSync=function(){var a=h.util.request(),c=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,h.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",c,!1);a.send(null);this.onDisconnect("booted")};b.prototype.isXDomain=function(){var a=y.location.port||("https:"==y.location.protocol?443:80);return this.options.host!==
y.location.hostname||this.options.port!=a};b.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};b.prototype.onOpen=function(){this.open=!0};b.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};b.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};b.prototype.onError=function(a){if(a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting))this.disconnect(),
this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};b.prototype.onDisconnect=function(a){var c=this.connected,d=this.connecting;this.open=this.connecting=this.connected=!1;if(c||d)this.transport.close(),this.transport.clearTimeouts(),c&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};b.prototype.reconnect=function(){function a(){if(d.connected){for(var a in d.namespaces)d.namespaces.hasOwnProperty(a)&&""!==
a&&d.namespaces[a].packet({type:"connect"});d.publish("reconnect",d.transport.name,d.reconnectionAttempts)}clearTimeout(d.reconnectionTimer);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.reconnecting=!1;delete d.reconnectionAttempts;delete d.reconnectionDelay;delete d.reconnectionTimer;delete d.redoTransports;d.options["try multiple transports"]=e}function c(){if(d.reconnecting){if(d.connected)return a();if(d.connecting&&d.reconnecting)return d.reconnectionTimer=setTimeout(c,
1E3);d.reconnectionAttempts++>=b?d.redoTransports?(d.publish("reconnect_failed"),a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.origTransports,d.transport=d.getTransport(),d.redoTransports=!0,d.connect()):(d.reconnectionDelay<f&&(d.reconnectionDelay*=2),d.connect(),d.publish("reconnecting",d.reconnectionDelay,d.reconnectionAttempts),d.reconnectionTimer=setTimeout(c,d.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var d=this,b=this.options["max reconnection attempts"],e=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(c,this.reconnectionDelay);this.on("connect",c)};var C="undefined"!=typeof io?io:module.parent.exports,b=function(a,c){this.socket=a;this.name=c||"";this.flags={};this.json=new G(this,"json");this.ackPackets=0;this.acks={}},G=function(a,c){this.namespace=a;
this.name=c};("undefined"!=typeof io?io:module.exports).SocketNamespace=b;C.util.mixin(b,C.EventEmitter);b.prototype.$emit=C.EventEmitter.prototype.emit;b.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};b.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};b.prototype.send=function(a,c){var d={type:this.flags.json?"json":"message",data:a};"function"==typeof c&&(d.id=++this.ackPackets,d.ack=!0,this.acks[d.id]=c);return this.packet(d)};
b.prototype.emit=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],b={type:"event",name:a};"function"==typeof d&&(b.id=++this.ackPackets,b.ack="data",this.acks[b.id]=d,c=c.slice(0,c.length-1));b.args=c;return this.packet(b)};b.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};b.prototype.onPacket=function(a){function c(){d.packet({type:"ack",args:C.util.toArray(arguments),ackId:a.id})}
var d=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var b=["message",a.data];"data"==a.ack?b.push(c):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,b);break;case "event":b=[a.name].concat(a.args);"data"==a.ack&&b.push(c);this.$emit.apply(this,b);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};G.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};G.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)};var w="undefined"!=typeof io?io:module.parent.exports,D=this,b=function(a){w.Transport.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).websocket=b;w.util.inherit(b,w.Transport);b.prototype.name="websocket";b.prototype.open=function(){var a=w.util.query(this.socket.options.query),c=this,d;d||(d=D.MozWebSocket||D.WebSocket);this.websocket=new d(this.prepareUrl()+a);this.websocket.onopen=function(){c.onOpen();c.socket.setBuffer(!1)};this.websocket.onmessage=function(a){c.onData(a.data)};this.websocket.onclose=function(){c.onClose();c.socket.setBuffer(!0)};this.websocket.onerror=
function(a){c.onError(a)};return this};b.prototype.send=w.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};b.prototype.payload=function(a){for(var c=0,d=a.length;c<d;c++)this.packet(a[c]);return this};b.prototype.close=function(){this.websocket.close();return this};b.prototype.onError=function(a){this.socket.onError(a)};b.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};b.check=
function(){return"WebSocket"in D&&!("__addTask"in WebSocket)||"MozWebSocket"in D};b.xdomainCheck=function(){return!0};w.transports.push("websocket");var s="undefined"!=typeof io?io:module.parent.exports,H=this,j=function(a){a&&(s.Transport.apply(this,arguments),this.sendBuffer=[])},O=function(){};("undefined"!=typeof io?io.Transport:module.exports).XHR=j;s.util.inherit(j,s.Transport);j.prototype.open=function(){this.socket.setBuffer(!1);this.onOpen();this.get();this.setCloseTimeout();return this};
j.prototype.payload=function(a){for(var c=[],d=0,b=a.length;d<b;d++)c.push(s.parser.encodePacket(a[d]));this.send(s.parser.encodePayload(c))};j.prototype.send=function(a){this.post(a);return this};j.prototype.post=function(a){function c(){if(4==this.readyState)if(this.onreadystatechange=O,b.posting=!1,200==this.status)b.socket.setBuffer(!1);else b.onClose()}function d(){this.onload=O;b.socket.setBuffer(!1)}var b=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");H.XDomainRequest&&this.sendXHR instanceof
XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=d:this.sendXHR.onreadystatechange=c;this.sendXHR.send(a)};j.prototype.close=function(){this.onClose();return this};j.prototype.request=function(a){var c=s.util.request(this.socket.isXDomain()),b=s.util.query(this.socket.options.query,"t="+ +new Date);c.open(a||"GET",this.prepareUrl()+b,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(e){}return c};j.prototype.scheme=
function(){return this.socket.options.secure?"https":"http"};j.check=function(a,c){try{var b=s.util.request(c),e=H.XDomainRequest&&b instanceof XDomainRequest,h=(a&&a.options&&a.options.secure?"https:":"http:")!=H.location.protocol;if(b&&(!e||!h))return!0}catch(f){}return!1};j.xdomainCheck=function(a){return j.check(a,!0)};var t="undefined"!=typeof io?io:module.parent.exports,b=function(a){t.Transport.XHR.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).htmlfile=b;t.util.inherit(b,
t.Transport.XHR);b.prototype.name="htmlfile";b.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var c=this,a=t.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+
a;t.util.on(window,"unload",function(){c.destroy()})};b.prototype._=function(a,c){this.onData(a);try{var b=c.getElementsByTagName("script")[0];b.parentNode.removeChild(b)}catch(e){}};b.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};b.prototype.close=function(){this.destroy();return t.Transport.XHR.prototype.close.call(this)};b.check=function(a){if("undefined"!=
typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&t.Transport.XHR.check(a)}catch(c){}return!1};b.xdomainCheck=function(){return!1};t.transports.push("htmlfile");var r="undefined"!=typeof io?io:module.parent.exports,V=this,b=function(){r.Transport.XHR.apply(this,arguments)},I=function(){};("undefined"!=typeof io?io.Transport:module.exports)["xhr-polling"]=b;r.util.inherit(b,r.Transport.XHR);r.util.merge(b,r.Transport.XHR);
b.prototype.name="xhr-polling";b.prototype.heartbeats=function(){return!1};b.prototype.open=function(){r.Transport.XHR.prototype.open.call(this);return!1};b.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=I,200==this.status)e.onData(this.responseText),e.get();else e.onClose()}function c(){this.onerror=this.onload=I;e.onData(this.responseText);e.get()}function b(){e.onClose()}if(this.isOpen){var e=this;this.xhr=this.request();V.XDomainRequest&&this.xhr instanceof
XDomainRequest?(this.xhr.onload=c,this.xhr.onerror=b):this.xhr.onreadystatechange=a;this.xhr.send(null)}};b.prototype.onClose=function(){r.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=I;try{this.xhr.abort()}catch(a){}this.xhr=null}};b.prototype.ready=function(a,c){var b=this;r.util.defer(function(){c.call(b)})};r.transports.push("xhr-polling");var p="undefined"!=typeof io?io:module.parent.exports,J=this,b=function(a){p.Transport["xhr-polling"].apply(this,
arguments);this.index=p.j.length;var c=this;p.j.push(function(a){c._(a)})},P=J.document&&"MozAppearance"in J.document.documentElement.style;("undefined"!=typeof io?io.Transport:module.exports)["jsonp-polling"]=b;p.util.inherit(b,p.Transport["xhr-polling"]);b.prototype.name="jsonp-polling";b.prototype.post=function(a){function c(){b();e.socket.setBuffer(!1)}function b(){e.iframe&&e.form.removeChild(e.iframe);try{k=document.createElement('<iframe name="'+e.iframeId+'">')}catch(a){k=document.createElement("iframe"),
k.name=e.iframeId}k.id=e.iframeId;e.form.appendChild(k);e.iframe=k}var e=this,h=p.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var f=document.createElement("form"),g=document.createElement("textarea"),j=this.iframeId="socketio_iframe_"+this.index,k;f.className="socketio";f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.display="none";f.target=j;f.method="POST";f.setAttribute("accept-charset","utf-8");g.name="d";f.appendChild(g);document.body.appendChild(f);
this.form=f;this.area=g}this.form.action=this.prepareUrl()+h;b();this.area.value=p.JSON.stringify(a);try{this.form.submit()}catch(l){}this.iframe.attachEvent?k.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c;this.socket.setBuffer(!0)};b.prototype.get=function(){var a=this,c=document.createElement("script"),b=p.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);
c.async=!0;c.src=this.prepareUrl()+b;c.onerror=function(){a.onClose()};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b);this.script=c;P&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};b.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};b.prototype.ready=function(a,b){var d=this;if(!P)return b.call(this);p.util.load(function(){b.call(d)})};b.check=function(){return"document"in
J};b.xdomainCheck=function(){return!0};p.transports.push("jsonp-polling")})();